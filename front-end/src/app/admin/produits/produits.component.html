<div class="container-fluid pt-2">
  <div class="row">

    <div class="col-md-6 vert-center">
      <div class="product-form">
        <h4 class="text-center title-app">Ajouter un produit</h4>

        <form (ngSubmit)="onSubmit()" #productForm="ngForm" enctype="multipart/form-data">
          <div class="form-group">
            <label for="libelle">*Nom du produit:</label>
            <input type="text" id="libelle" name="libelle" class="form-control" [(ngModel)]="product.libelle" required>
          </div>

          <div class="form-group">
            <label for="description">*Description:</label>
            <textarea id="description" name="description" class="form-control" [(ngModel)]="product.description" maxlength="200"
              required></textarea>
          </div>

          <div class="form-group">
            <label for="libelle">*Image</label>
            <input type="file" id="img" name="image" class="form-control" accept="image/*" required
              (change)="handleFileInput($event)">
          </div>

          <div class="form-group">
            <label for="prix">*Prix:</label>
            <input type="number" id="prix" name="prix" class="form-control" [(ngModel)]="product.prix" min="0" required>
          </div>

          <div class="form-group">
            <label for="category">*Cat√©gorie:</label>
            <select [(ngModel)]="product.categorieID" name="categorieID" class="form-control" required>
              <option *ngFor="let categorie of categories" [value]="categorie.categorieID" >{{ categorie.libelle }}
              </option>
            </select>

          </div>

          <div class="form-group">
            <label for="category">Promotion:</label>
            <select [(ngModel)]="product.promotionID" name="promotionID" class="form-control">
              <option value=0>Aucune promotion</option>
              <option *ngFor="let promotion of promotions" [value]="promotion.promotionID">{{ promotion.remise }} %
              </option>
            </select>

          </div>
          <div class="text-center pt-3">
            <p *ngIf="errorMsg">Veuillez renseigner tous les champs obligatoires.</p>
            <button type="submit" class="btn btn-primary" [disabled]="!productForm.valid">Ajouter le produit</button>
          </div>
          <!-- <p>{{product | json}}</p> -->
        </form>
      </div>
    </div>

    <div class="col-md-6 mt-2">
      <h4 class="text-center title-app">Liste des produits :</h4>
      <div class="products">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">ID</th>
              <th scope="col">Libelle</th>
              <th scope="col">Prix</th>

            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let p of products">

              <td>{{p.produitID}}</td>
              <td>{{p.libelle}}</td>
              <td>{{p.prix}}</td>
            </tr>

          </tbody>
        </table>
      </div>
    </div>
  </div>

</div>
